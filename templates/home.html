{% extends 'base.html' %}
{% load static %}
{% load course_extras %}

{% block title %}Beranda - KursusKu{% endblock %}

{% block content %}
<!-- Courses Hero Section -->
    <section id="courses-hero" class="courses-hero section light-background">

      <div class="hero-content">
        <div class="container">
          <div class="row align-items-center">

            <div class="col-lg-6" data-aos="fade-up" data-aos-delay="100">
              <div class="hero-text">
                <h1>{{ hero_data.title }}</h1>
                <p>{{ hero_data.subtitle }}</p>

                <div class="hero-stats">
                  <div class="stat-item">
                    <span class="number purecounter" data-purecounter-start="0" data-purecounter-end="{{ hero_data.students_count }}" data-purecounter-duration="2"></span>
                    <span class="label">Students Enrolled</span>
                  </div>
                  <div class="stat-item">
                    <span class="number purecounter" data-purecounter-start="0" data-purecounter-end="{{ hero_data.courses_count }}" data-purecounter-duration="2"></span>
                    <span class="label">Expert Courses</span>
                  </div>
                  <div class="stat-item">
                    <span class="number purecounter" data-purecounter-start="0" data-purecounter-end="{{ hero_data.success_rate }}" data-purecounter-duration="2"></span>
                    <span class="label">Success Rate %</span>
                  </div>
                </div>

                <div class="hero-buttons">
                  <a href="#courses" class="btn btn-primary">Browse Courses</a>
                  <a href="#about" class="btn btn-outline">Learn More</a>
                </div>

                <div class="hero-features">
                  <div class="feature">
                    <i class="bi bi-shield-check"></i>
                    <span>{{ hero_data.feature_1_title }}</span>
                  </div>
                  <div class="feature">
                    <i class="bi bi-clock"></i>
                    <span>{{ hero_data.feature_2_title }}</span>
                  </div>
                  <div class="feature">
                    <i class="bi bi-people"></i>
                    <span>{{ hero_data.feature_3_title }}</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-6" data-aos="fade-up" data-aos-delay="200">
              <div class="hero-image">
                <div class="main-image">
                  {% if hero_data.hero_image %}
                  <img src="{{ hero_data.hero_image.url }}" alt="Online Learning" class="img-fluid">
                  {% else %}
                  <img src="{% static 'assets/img/education/courses-13.webp' %}" alt="Online Learning" class="img-fluid">
                  {% endif %}
                </div>

                <div class="floating-cards">
                  {% for card in floating_cards %}
                  <div class="course-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1|multiply:100|add:200 }}">
                    <div class="card-icon">
                      <i class="{{ card.icon_class }}"></i>
                    </div>
                    <div class="card-content">
                      <h6>{{ card.title }}</h6>
                      <span>{{ card.student_count }} Students</span>
                    </div>
                  </div>
                  {% endfor %}
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="hero-background">
        <div class="bg-shapes">
          <div class="shape shape-1"></div>
          <div class="shape shape-2"></div>
          <div class="shape shape-3"></div>
        </div>
      </div>

</section>
<!-- /Courses Hero Section -->

<!-- Featured Courses Section -->
    <section id="featured-courses" class="featured-courses section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Featured Courses</h2>
        <p>Necessitatibus eius consequatur ex aliquid fuga eum quidem sint consectetur velit</p>
      </div><!-- End Section Title -->

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">
          {% for course in featured_courses %}
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
            <div class="course-card">
              <div class="course-image">
                {% if course.thumbnail %}
                <img src="{{ course.thumbnail.url }}" class="img-fluid" alt="{{ course.title }}">
                {% else %}
                <img src="{% static 'assets/img/education/students-9.webp' %}" alt="Course" class="img-fluid">
                {% endif %}
                <div class="price-badge">Rp. {{ course.price }}</div>
              </div>
              <div class="course-content">
                <div class="course-meta">
                  <span class="level">{{ course.difficulty}}</span>
                  <span class="duration">{{course.duration}} jam</span>
                </div>
                <h3><a href="{% url 'courses:course_detail' course.slug %}">{{ course.title }}</a></h3>
                <p>{{ course.description|truncatewords:20 }}</p>
                <div class="instructor">
                  {% if course.instructor.profile_picture %}
                  <img src="{{ course.instructor.profile_picture.url }}" alt="Instructor" class="instructor-img">
                  {% else %}
                  <img src="{% static 'assets/img/person/person-f-3.webp' %}" alt="Instructor" class="instructor-img">
                  {% endif %}
                  <div class="instructor-info">
                    <h6>{{ course.instructor.get_full_name|default:course.instructor.username }}</h6>
                    <span>Marketing Expert</span>
                  </div>
                </div>
                <div class="course-stats">
                  <div class="students">
                    <i class="bi bi-people-fill"></i>
                    <span>342 students</span>
                  </div>
                </div>
                <a href="{% url 'courses:course_detail' course.slug %}" class="btn-course">Pesan Sekarang</a>
              </div>
            </div>
          </div><!-- End Course Item -->
          {% endfor %}



        </div>

        <div class="more-courses text-center" data-aos="fade-up" data-aos-delay="500">
          <a href="{% url 'courses:course_list' %}" class="btn-more">View All Courses</a>
        </div>

      </div>

<!-- Featured Instructors Section -->
    <section id="featured-instructors" class="featured-instructors section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Featured Instructors</h2>
        <p>Necessitatibus eius consequatur ex aliquid fuga eum quidem sint consectetur velit</p>
      </div><!-- End Section Title -->

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">
          {% for instructor in featured_instructors %}
          <div class="col-xl-3 col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|multiply:50|add:200 }}">
            <div class="instructor-card">
              <div class="instructor-image">
                {% if instructor.profile_image %}
                <img src="{{ instructor.profile_image.url }}" class="img-fluid" alt="{{ instructor.name }}">
                {% else %}
                <img src="{% static 'assets/img/education/teacher-2.webp' %}" class="img-fluid" alt="{{ instructor.name }}">
                {% endif %}
                <div class="overlay-content">
                  <div class="rating-stars">
                    {% for star in instructor.rating|star_rating %}
                      {% if star.type == 'fill' %}
                        <i class="bi bi-star-fill"></i>
                      {% elif star.type == 'half' %}
                        <i class="bi bi-star-half"></i>
                      {% else %}
                        <i class="bi bi-star"></i>
                      {% endif %}
                    {% endfor %}
                    <span>{{ instructor.rating }}</span>
                  </div>
                  <div class="course-count">
                    <i class="bi bi-play-circle"></i>
                    <span>{{ instructor.course_count }} Courses</span>
                  </div>
                </div>
              </div>
              <div class="instructor-info">
                <h5>{{ instructor.name }}</h5>
                <p class="specialty">{{ instructor.specialty }}</p>
                <p class="description">{{ instructor.description }}</p>
                <div class="stats-grid">
                  <div class="stat">
                    <span class="number">{{ instructor.student_count|to_k_format }}</span>
                    <span class="label">Students</span>
                  </div>
                  <div class="stat">
                    <span class="number">{{ instructor.rating }}</span>
                    <span class="label">Rating</span>
                  </div>
                </div>
                <div class="action-buttons">
                  <a href="#" class="btn-view">View Profile</a>
                  <div class="social-links">
                    {% if instructor.linkedin_url %}
                    <a href="{{ instructor.linkedin_url }}"><i class="bi bi-linkedin"></i></a>
                    {% endif %}
                    {% if instructor.twitter_url %}
                    <a href="{{ instructor.twitter_url }}"><i class="bi bi-twitter"></i></a>
                    {% endif %}
                    {% if instructor.github_url %}
                    <a href="{{ instructor.github_url }}"><i class="bi bi-github"></i></a>
                    {% endif %}
                    {% if instructor.instagram_url %}
                    <a href="{{ instructor.instagram_url }}"><i class="bi bi-instagram"></i></a>
                    {% endif %}
                    {% if instructor.facebook_url %}
                    <a href="{{ instructor.facebook_url }}"><i class="bi bi-facebook"></i></a>
                    {% endif %}
                    {% if instructor.dribbble_url %}
                    <a href="{{ instructor.dribbble_url }}"><i class="bi bi-dribbble"></i></a>
                    {% endif %}
                    {% if instructor.behance_url %}
                    <a href="{{ instructor.behance_url }}"><i class="bi bi-behance"></i></a>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>

      </div>

    </section><!-- /Featured Instructors Section -->

    <!-- Cta Section -->
    <section id="cta" class="cta section light-background">

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row align-items-center">

          <div class="col-lg-6" data-aos="fade-right" data-aos-delay="200">
            <div class="cta-content">
              <h2>{{ cta_data.title }}</h2>
              <p>{{ cta_data.subtitle }}</p>

              <div class="features-list">
                <div class="feature-item" data-aos="fade-up" data-aos-delay="300">
                  <i class="bi bi-check-circle-fill"></i>
                  <span>{{ cta_data.feature_1 }}</span>
                </div>
                <div class="feature-item" data-aos="fade-up" data-aos-delay="350">
                  <i class="bi bi-check-circle-fill"></i>
                  <span>{{ cta_data.feature_2 }}</span>
                </div>
                <div class="feature-item" data-aos="fade-up" data-aos-delay="400">
                  <i class="bi bi-check-circle-fill"></i>
                  <span>{{ cta_data.feature_3 }}</span>
                </div>
                <div class="feature-item" data-aos="fade-up" data-aos-delay="450">
                  <i class="bi bi-check-circle-fill"></i>
                  <span>{{ cta_data.feature_4 }}</span>
                </div>
              </div>

              <div class="cta-actions" data-aos="fade-up" data-aos-delay="500">
                <a href="{{ cta_data.cta_button_url }}" class="btn btn-primary">{{ cta_data.cta_button_text }}</a>
                <a href="{{ cta_data.secondary_button_url }}" class="btn btn-outline">{{ cta_data.secondary_button_text }}</a>
              </div>

              <div class="stats-row" data-aos="fade-up" data-aos-delay="400">
                <div class="stat-item">
                  <h3><span data-purecounter-start="0" data-purecounter-end="{{ cta_data.cta_students_count }}" data-purecounter-duration="2" class="purecounter"></span>+</h3>
                  <p>Students Enrolled</p>
                </div>
                <div class="stat-item">
                  <h3><span data-purecounter-start="0" data-purecounter-end="{{ cta_data.cta_courses_count }}" data-purecounter-duration="2" class="purecounter"></span>+</h3>
                  <p>Courses Available</p>
                </div>
                <div class="stat-item">
                  <h3><span data-purecounter-start="0" data-purecounter-end="{{ cta_data.cta_success_rate }}" data-purecounter-duration="2" class="purecounter"></span>%</h3>
                  <p>Success Rate</p>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-6" data-aos="fade-left" data-aos-delay="300">
            <div class="cta-image">
              {% if cta_data.cta_image %}
              <img src="{{ cta_data.cta_image.url }}" alt="Online Learning Platform" class="img-fluid">
              {% else %}
              <img src="{% static 'assets/img/education/courses-4.webp' %}" alt="Online Learning Platform" class="img-fluid">
              {% endif %}
              <div class="floating-element student-card" data-aos="zoom-in" data-aos-delay="600">
                <div class="card-content">
                  <i class="bi bi-person-check-fill"></i>
                  <div class="text">
                    <span class="number">{{ floating_cards.0.student_count|default:2450 }}</span>
                    <span class="label">New Students This Month</span>
                  </div>
                </div>
              </div>
              <div class="floating-element course-card" data-aos="zoom-in" data-aos-delay="700">
                <div class="card-content">
                  <i class="bi bi-play-circle-fill"></i>
                  <div class="text">
                    <span class="number">50+</span>
                    <span class="label">Hours of Content</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>

    </section><!-- /Cta Section -->
{% endblock %}